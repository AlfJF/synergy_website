<header class="container navbar navbar-inverse navbar-fixed-top carrot" role="banner">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" ng-click="VInicio2()">
					<img style="padding-top:6px;max-width:300px;" 
						 src="img2/logo.png" 
						 alt="logo"
						 ng-click="VInicio()">
				</a>
			</div>
			<div class="collapse navbar-collapse">
				<div>
					<ul class="nav navbar-nav navbar-right lista headerNavBar">
						<li>
							<a ng-click="VMiPagina0(idUsuario)" ng-show='idUsuario'>
								Perfil
							</a>
						</li>
                        <li>
        					<a ng-click="VForos()">
                                Foros
                            </a>
        				</li>
                        <li>
							<a ng-click="VPrincipal0()">
								Páginas
							</a>
						</li>
						<li>
							<a ng-click="VContactos2(idUsuario)" ng-show='idUsuario'>
								Contactos
							</a>
						</li>
						<li>
							<a ng-click="VLogin0()" ng-show='!idUsuario'>
								Iniciar sesión
							</a>
						</li>
						<li> 
							<a ng-click="VRegistro0()" ng-show='!idUsuario'>Registrarse</a>
						</li>
						<li>
							<a ng-click="__ayuda()" ng-show='!idUsuario'> 
								<span class="glyphicon glyphicon-info-sign"></span>
							</a> 
						</li>
						<li ng-show="idUsuario" id="user">
							<div class="dropdown">
								<a class="dropdown-toggle" data-toggle="dropdown">
									<span ng-bind="idUsuario">
									</span>
									<i class="icon-chevron-down">
									</i>
								</a>
								<ul class="dropdown-menu">
									<li>
										<a style="color:#3B3F44" ng-click="__ayuda()">
										    Ayuda
										</a>
									</li>
									
									<li>
										<a style="color:#3B3F44" ng-click="ASalir(idUsuario)">
											Cerrar sesión
										</a>
									</li>
								</ul>
							</li>
							</div>
						</li>
					</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
</header>

<script>
$('.dropdown-toggle').dropdown()
</script>

<hr>
<h2>Hilo: {{publicaciones.titulo}}</h2>
<h3> {{publicacion.contenido + '  - '}} <em>{{publicacion.autor}}</em> </h3>
<hr>



<ul>
    <li ng-repeat="publicacion in publicacion.hijos" ng-include="'tree_item_renderer.html'"></li>
</ul>


<hr>
    <div ng-show="idUsuario" ng-include="'responder_Publicacion.html'"></div>
<hr>

<script type="text/ng-template" id="responder_Publicacion.html">
        <form name="fpublicacionForm" ng-submit="AgregPublicacion3(fpublicacionForm.$valid, publicacion.id)" novalidate>
            <div class="form-group" ng-class="{ 'has-error' : fpublicacionFormSubmitted && fpublicacionForm.texto.$invalid && fpublicacionForm.texto.$pristine && fpublicacionSubmitted}">
                <label for="fpublicacion_titulo">
                    Título del la respuesta.
                </label>
                <input type="text" id="fpublicacion_titulo" name="titulo" class="form-control" ng-model="fpublicacion.titulo" required>

                </input>
                <p ng-show="error && fpublicacionForm.titulo.$invalid" class="help-block">
                    Error en campo Título.
                </p>
                <br>
                <label for="fpublicacion_texto">
                    Tu respuesta:
                </label>
                <textarea  type="text" id="fpublicacion_texto" name="texto" class="form-control" ng-model="fpublicacion.texto" placeholder="Texto" required>
                    
                </textarea >
                <p ng-show="error && fpublicacionForm.texto.$invalid" class="help-block">
                    Error en campo Texto.
                </p>
            </div>
            <button type="submit" class="btn btn-perso btn-lg btn-block">
                <span class="glyphicon glyphicon-pencil"></span>Responder
            </button>
        </form>
</script>

<script type="text/ng-template"  id="tree_item_renderer.html">
    <h4>{{publicacion.titulo}} 
        <span ng-click="colapsar(publicacion.id)" id="{{'boton' + publicacion.id }}">[-]</span>
    </h4>
    <div id="{{'publicacion' + publicacion.id}}">
    <p>{{publicacion.contenido}} - <em>{{publicacion.autor}}</em></p>
    <button ng-click="AElimPublicacion1(publicacion.id)" ng-show="!publicacion.eliminada && publicacion.autor == idUsuario">Eliminar</button>
    <button ng-show="idUsuario" ng-click="responderPublicacion(publicacion)" ng-show="!publicacion.eliminada">Responder</button>
    <ul>
        <li ng-repeat="publicacion in publicacion.hijos" ng-include="'tree_item_renderer.html'"></li>
    </ul>
    </div>
</script>

<script type="text/ng-template" id="ayuda_VHilos.html">
Manual
</script>

<div id="right"></div>
